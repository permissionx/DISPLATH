<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DISPLATH BCA Simulator</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1>‚öõÔ∏è DISPLATH BCA Simulator</h1>
                <p>Binary Collision Approximation for Ion Irradiation Simulation</p>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <div class="content-grid">
                <!-- Left Panel - Parameter Configuration -->
                <div class="parameter-panel">
                    <!-- Tab Navigation -->
                    <nav class="tab-nav">
                        <button class="tab-btn active" data-tab="material">
                            <span class="tab-icon">üß¨</span>
                            Material
                        </button>
                        <button class="tab-btn" data-tab="simulation">
                            <span class="tab-icon">‚öôÔ∏è</span>
                            Simulation
                        </button>
                        <button class="tab-btn" data-tab="ion">
                            <span class="tab-icon">‚ö°</span>
                            Ion
                        </button>
                    </nav>

                    <!-- Tab Content -->
                    <div class="tab-content">
                        <!-- Material Tab -->
                        <div class="tab-pane active" id="material">
                            <!-- Preset Materials -->
                            <section class="param-section">
                                <h3>Preset Materials</h3>
                                <div class="form-group">
                                    <select class="form-control" id="presetMaterial">
                                        <option value="custom">Custom Configuration</option>
                                        <option value="silicon">Silicon (Diamond)</option>
                                        <option value="mos2">MoS‚ÇÇ (2H)</option>
                                        <option value="graphene">Graphene</option>
                                        <option value="diamond">Diamond</option>
                                    </select>
                                </div>
                            </section>

                            <!-- Crystal Structure -->
                            <section class="param-section">
                                <h3>Crystal Structure</h3>
                                
                                <!-- Primary Vectors -->
                                <div class="form-group">
                                    <label>Primary Vectors (√Ö)</label>
                                    <div class="matrix-grid">
                                        <div class="matrix-row">
                                            <span class="vector-label">a‚ÇÅ</span>
                                            <input type="number" step="0.001" value="4.260" id="a1x">
                                            <input type="number" step="0.001" value="0.000" id="a1y">
                                            <input type="number" step="0.001" value="0.000" id="a1z">
                                        </div>
                                        <div class="matrix-row">
                                            <span class="vector-label">a‚ÇÇ</span>
                                            <input type="number" step="0.001" value="0.000" id="a2x">
                                            <input type="number" step="0.001" value="4.263" id="a2y">
                                            <input type="number" step="0.001" value="0.000" id="a2z">
                                        </div>
                                        <div class="matrix-row">
                                            <span class="vector-label">a‚ÇÉ</span>
                                            <input type="number" step="0.001" value="0.000" id="a3x">
                                            <input type="number" step="0.001" value="0.000" id="a3y">
                                            <input type="number" step="0.001" value="6.700" id="a3z">
                                        </div>
                                    </div>
                                    <div class="matrix-info">
                                        <span class="info-item">Det: <span id="matrixDet">121.2</span></span>
                                        <span class="info-item">Vol: <span id="unitCellVol">121.2</span> √Ö¬≥</span>
                                        <span class="info-item" id="orthogonalIndicator">‚úì Orthogonal</span>
                                    </div>
                                </div>

                                <!-- Lattice Ranges & Box Sizes -->
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>Lattice Ranges (unit cells)</label>
                                        <div class="range-grid">
                                            <div class="range-row">
                                                <span>X:</span>
                                                <input type="number" value="0" id="xMin" class="range-input">
                                                <span>to</span>
                                                <input type="number" value="400" id="xMax" class="range-input">
                                            </div>
                                            <div class="range-row">
                                                <span>Y:</span>
                                                <input type="number" value="0" id="yMin" class="range-input">
                                                <span>to</span>
                                                <input type="number" value="400" id="yMax" class="range-input">
                                            </div>
                                            <div class="range-row">
                                                <span>Z:</span>
                                                <input type="number" value="2" id="zMin" class="range-input">
                                                <span>to</span>
                                                <input type="number" value="1000" id="zMax" class="range-input">
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label>Box Sizes (cells)</label>
                                        <div class="box-size-grid">
                                            <div class="size-input">
                                                <label>nx</label>
                                                <input type="number" value="400" id="boxNx">
                                            </div>
                                            <div class="size-input">
                                                <label>ny</label>
                                                <input type="number" value="400" id="boxNy">
                                            </div>
                                            <div class="size-input">
                                                <label>nz</label>
                                                <input type="number" value="1005" id="boxNz">
                                            </div>
                                        </div>
                                        <div class="atom-estimate">
                                            Total atoms: <span id="atomCount">~400M</span>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Basis Atoms -->
                            <section class="param-section">
                                <h3>Basis Atoms</h3>
                                <div id="basisAtomsList" class="basis-atoms-list">
                                    <!-- Dynamic content -->
                                </div>
                                <button class="btn btn-secondary" id="addBasisAtom">
                                    <span>‚ûï</span> Add Basis Atom
                                </button>
                            </section>

                            <!-- Element Library -->
                            <section class="param-section">
                                <h3>Element Library</h3>
                                <div id="elementLibrary" class="element-library">
                                    <!-- Dynamic content -->
                                </div>
                                <button class="btn btn-secondary" id="addElement">
                                    <span>‚ûï</span> Add Element
                                </button>
                            </section>
                        </div>

                        <!-- Simulation Tab -->
                        <div class="tab-pane" id="simulation">
                            <!-- Physical Parameters -->
                            <section class="param-section">
                                <h3>Physical Parameters</h3>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>Temperature</label>
                                        <div class="input-with-unit">
                                            <input type="number" step="0.1" value="300.0" id="temperature">
                                            <span class="unit">K</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Debye Temperature</label>
                                        <div class="input-with-unit">
                                            <input type="number" step="0.1" value="645.0" id="debyeTemp">
                                            <span class="unit">K</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Stop Energy</label>
                                        <div class="input-with-unit">
                                            <input type="number" step="0.1" value="20.0" id="stopEnergy">
                                            <span class="unit">eV</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Vacancy Recover Distance</label>
                                        <div class="input-with-unit">
                                            <input type="number" step="0.1" value="0.0" id="vacancyDistance">
                                            <span class="unit">√Ö</span>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Computational Setup -->
                            <section class="param-section">
                                <h3>Computational Setup</h3>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>pMax</label>
                                        <div class="input-with-unit">
                                            <input type="number" step="0.01" value="1.45" id="pMax">
                                            <span class="unit">√Ö</span>
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label>Random Seed</label>
                                        <div class="seed-input">
                                            <input type="number" value="43" id="randomSeed">
                                            <button class="btn-icon" id="randomizeSeed" title="Generate Random">üé≤</button>
                                        </div>
                                    </div>
                                </div>

                                <!-- Grid Vectors -->
                                <div class="form-group">
                                    <label>Grid Vectors (√Ö)</label>
                                    <div class="matrix-grid">
                                        <div class="matrix-row">
                                            <span class="vector-label">g‚ÇÅ</span>
                                            <input type="number" step="0.1" value="6.0" id="g1x">
                                            <input type="number" step="0.1" value="0.0" id="g1y">
                                            <input type="number" step="0.1" value="0.0" id="g1z">
                                        </div>
                                        <div class="matrix-row">
                                            <span class="vector-label">g‚ÇÇ</span>
                                            <input type="number" step="0.1" value="0.0" id="g2x">
                                            <input type="number" step="0.1" value="6.0" id="g2y">
                                            <input type="number" step="0.1" value="0.0" id="g2z">
                                        </div>
                                        <div class="matrix-row">
                                            <span class="vector-label">g‚ÇÉ</span>
                                            <input type="number" step="0.1" value="0.0" id="g3x">
                                            <input type="number" step="0.1" value="0.0" id="g3y">
                                            <input type="number" step="0.1" value="6.0" id="g3z">
                                        </div>
                                    </div>
                                </div>

                                <!-- Advanced Options -->
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="dynamicLoading" checked>
                                            <span class="checkmark"></span>
                                            Dynamic Loading
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label>Cascades per Load</label>
                                        <input type="number" value="10" id="cascadesPerLoad">
                                    </div>
                                </div>
                            </section>

                            <!-- Output Settings -->
                            <section class="param-section">
                                <h3>Output Settings</h3>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label class="checkbox-label">
                                            <input type="checkbox" id="dumpInCascade">
                                            <span class="checkmark"></span>
                                            Dump in Cascade
                                        </label>
                                    </div>
                                    <div class="form-group">
                                        <label>Log Level</label>
                                        <select class="form-control" id="logLevel">
                                            <option value="debug">Debug</option>
                                            <option value="info" selected>Info</option>
                                            <option value="warn">Warning</option>
                                            <option value="error">Error</option>
                                        </select>
                                    </div>
                                </div>
                            </section>

                            <!-- Boundary Conditions -->
                            <section class="param-section">
                                <h3>Boundary Conditions</h3>
                                <div class="boundary-conditions">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="periodicX" checked>
                                        <span class="checkmark"></span>
                                        X Periodic
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="periodicY" checked>
                                        <span class="checkmark"></span>
                                        Y Periodic
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="periodicZ">
                                        <span class="checkmark"></span>
                                        Z Periodic
                                    </label>
                                </div>
                            </section>
                        </div>

                        <!-- Ion Tab -->
                        <div class="tab-pane" id="ion">
                            <!-- Ion Properties -->
                            <section class="param-section">
                                <h3>Ion Properties</h3>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>Ion Type</label>
                                        <select class="form-control" id="ionType">
                                            <option value="1">Si</option>
                                            <option value="2">B</option>
                                            <option value="3">Ar</option>
                                        </select>
                                    </div>
                                    <div class="form-group">
                                        <label>Energy</label>
                                        <div class="input-with-unit">
                                            <input type="number" step="1000" value="100000" id="ionEnergy">
                                            <span class="unit">eV</span>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Initial Conditions -->
                            <section class="param-section">
                                <h3>Initial Conditions</h3>
                                
                                <!-- Position -->
                                <div class="form-group">
                                    <label>Position (√Ö)</label>
                                    <div class="position-config">
                                        <div class="position-row">
                                            <span>X:</span>
                                            <select class="pos-type" id="posXType">
                                                <option value="fixed">Fixed</option>
                                                <option value="random" selected>Random in circle</option>
                                                <option value="range">Range</option>
                                            </select>
                                            <input type="number" step="0.1" value="30.0" id="posXValue">
                                        </div>
                                        <div class="position-row">
                                            <span>Y:</span>
                                            <select class="pos-type" id="posYType">
                                                <option value="fixed">Fixed</option>
                                                <option value="random" selected>Random in circle</option>
                                                <option value="range">Range</option>
                                            </select>
                                            <input type="number" step="0.1" value="30.0" id="posYValue">
                                        </div>
                                        <div class="position-row">
                                            <span>Z:</span>
                                            <select class="pos-type" id="posZType">
                                                <option value="fixed" selected>Fixed</option>
                                                <option value="random">Random</option>
                                                <option value="range">Range</option>
                                            </select>
                                            <input type="number" step="0.1" value="2047.0" id="posZValue">
                                        </div>
                                    </div>
                                </div>

                                <!-- Direction -->
                                <div class="form-group">
                                    <label>Direction (normalized)</label>
                                    <div class="direction-config">
                                        <div class="direction-angles">
                                            <div class="angle-input">
                                                <label>Œ∏ (deg)</label>
                                                <input type="number" step="0.1" value="7.0" id="dirTheta">
                                            </div>
                                            <div class="angle-input">
                                                <label>œÜ (deg)</label>
                                                <input type="number" step="0.1" value="0.0" id="dirPhi">
                                            </div>
                                        </div>
                                        <div class="vector-display">
                                            <span>Vector:</span>
                                            <div class="vector-values">
                                                <span id="dirVecX">0.12</span>
                                                <span id="dirVecY">0.00</span>
                                                <span id="dirVecZ">-1.00</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Irradiation Protocol -->
                            <section class="param-section">
                                <h3>Irradiation Protocol</h3>
                                <div class="grid-2">
                                    <div class="form-group">
                                        <label>Number of Runs</label>
                                        <input type="number" value="1000" id="numRuns">
                                    </div>
                                    <div class="form-group">
                                        <label>Energy Steps</label>
                                        <div class="energy-steps">
                                            <input type="number" value="10" id="energySteps" class="step-count">
                                            <span>from</span>
                                            <input type="number" value="10000" id="energyMin" class="energy-range">
                                            <span>to</span>
                                            <input type="number" value="100000" id="energyMax" class="energy-range">
                                            <span class="unit">eV</span>
                                        </div>
                                    </div>
                                </div>
                            </section>

                            <!-- Analysis Setup -->
                            <section class="param-section">
                                <h3>Analysis Setup</h3>
                                <div class="analysis-options">
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="trackSputtering" checked>
                                        <span class="checkmark"></span>
                                        Track Sputtering
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="trackDefects" checked>
                                        <span class="checkmark"></span>
                                        Track Defects
                                    </label>
                                    <label class="checkbox-label">
                                        <input type="checkbox" id="trackRange" checked>
                                        <span class="checkmark"></span>
                                        Track Range
                                    </label>
                                </div>
                            </section>
                        </div>
                    </div>

                    <!-- Advanced Parameters (Collapsible) -->
                    <div class="advanced-section">
                        <button class="advanced-toggle" id="advancedToggle">
                            <span class="toggle-icon">‚ñ∂</span>
                            Advanced Parameters
                        </button>
                        <div class="advanced-content" id="advancedContent">
                            <!-- Advanced content will be added here -->
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="action-buttons">
                        <button class="btn btn-secondary" id="validateParams">
                            <span>‚úì</span> Validate
                        </button>
                        <button class="btn btn-primary" id="runSimulation">
                            <span>‚ñ∂</span> Run Simulation
                        </button>
                        <button class="btn btn-outline" id="resetParams">
                            <span>‚Üª</span> Reset
                        </button>
                    </div>
                </div>

                <!-- Right Panel - Results Monitoring -->
                <div class="results-panel">
                    <!-- Progress Section -->
                    <section class="results-section">
                        <h3>Simulation Progress</h3>
                        <div class="progress-info">
                            <div class="progress-text">
                                <span>Run: <span id="currentRun">0</span>/<span id="totalRuns">1000</span></span>
                                <span class="progress-percent">(<span id="progressPercent">0.0</span>%)</span>
                            </div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="progress-details">
                                <span>Current Energy: <span id="currentEnergy">0</span> keV</span>
                                <span>ETA: <span id="eta">--</span></span>
                            </div>
                        </div>
                    </section>

                    <!-- Statistics Section -->
                    <section class="results-section">
                        <h3>Current Statistics</h3>
                        <div class="stats-grid">
                            <div class="stat-item">
                                <span class="stat-label">Total Collisions</span>
                                <span class="stat-value" id="totalCollisions">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Displacements</span>
                                <span class="stat-value" id="displacements">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Vacancies</span>
                                <span class="stat-value" id="vacancies">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Interstitials</span>
                                <span class="stat-value" id="interstitials">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Sputtered Atoms</span>
                                <span class="stat-value" id="sputteredAtoms">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Cascade Depth</span>
                                <span class="stat-value" id="cascadeDepth">0.0 √Ö</span>
                            </div>
                        </div>
                    </section>

                    <!-- Visualization Section -->
                    <section class="results-section">
                        <h3>Live Visualization</h3>
                        <div class="visualization-container">
                            <canvas id="visualizationCanvas" width="300" height="200"></canvas>
                            <div class="visualization-controls">
                                <button class="btn btn-sm">Rotate</button>
                                <button class="btn btn-sm">Zoom</button>
                                <button class="btn btn-sm">Reset</button>
                            </div>
                        </div>
                    </section>

                    <!-- System Logs -->
                    <section class="results-section">
                        <h3>System Logs</h3>
                        <div class="logs-container">
                            <div class="logs-content" id="logsContent">
                                <div class="log-entry">
                                    <span class="log-time">[Ready]</span>
                                    <span class="log-message">System initialized. Ready for simulation.</span>
                                </div>
                            </div>
                            <div class="logs-controls">
                                <button class="btn btn-sm" id="clearLogs">Clear</button>
                                <button class="btn btn-sm" id="exportLogs">Export</button>
                            </div>
                        </div>
                    </section>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html> 